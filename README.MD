# Everithing recognizer
Утилита по трекингу лиц 

## Как установить 

````
pip3 install -r requirements.txt
````

## Как использовать
Для работы скрипта требуется установленная вэб камера на вашем ПК.
````
python3 run.py
````
## Описание компонентов
 ### config.py
В файле в виде справочника прописаны паттрены отслеживания(Cascade) со следующими параметрами:  
**Path** - путь к файлу с xml данными по поиску паттерна на изображении  
**Color** -  цвет прорисовки интерактивных элементов   
**Draw** - Флаг активности  

### run.py

#### get_cascades
Получает данные об активных `Cascade` из модуля `config`. Загружает xml данные о каскаде,
а так-же о его цвете интерактивных элеменов в список.
#### draw_sqare
Функция принимает `frame` - стоп-кадр изображения и прорисовывает на нем прямоугольник
по заданным координатам (x,y) цветом определенным в `config` каскада. 
#### show_frame
Функция отображает фрэйм пользователю в окне с заголовком `Video`.
#### is_user_wants_quit
Функция в течении 1 мс ожидает нажатия любой клавиши пользователем если событие произошло - завершает программу, если нет - отпускает задержку.

#### "\_\_main__"
При запуска вызывается `get_cascades`. Далее подключается камера устройства,
скрипт проверяет создался ли объект камеры. Если не создался - 
выбрасывает сообщение пользователю. Запускается цикл. Из видео-потока считывается один фрэйм, он преобразуется в ЧБ методом
`COLOR_BGR2GRAY`. 

Инициализируется поиск каскадов на данном ЧБ фрэйме методом `detectMultiScale`. 
Найденные каскады сохраняются в список в виде координат.  


Затем уже данный список в цикле отдает исполнение функции `draw_sqare` 
для прорисовки интерактивных элементов по переданным координатам на исходном фрэйме.

После этого происходит отображение фрэйма на мониторе с помощью вызова функции `show_frame`,
сразу после - `is_user_wants_quit` (если возвращает `True` - происходит выход из цикла,
закрывается процесс камеры и все окна с отображениями) на этом цикл завершается,
программа переходит к следующему циклу.



